<h1>Edit Note</h1>

<% if flash.has?(:message) %>
Hi, this is a message
  <ul class=<%= flash[:type] %>>
    <% flash[:message].each do |message| %>
      <li><%= message %></li>
    <% end %>
  </ul>
<% end %>

<form action="/notes/<%= @note.slug %>" method="POST">
  <input id="hidden" type="hidden" name="_method" value="patch">
  <p>
    <label for="note[tea_id]">Tea:</label>
    <select name="note[tea_id]">
      <% @teas.each do |tea| %>
        <option value="<%= tea.id %>" <%='selected' if @note.tea == tea %>><%= tea.name %></option>
      <% end %>
    </select>
  </p>
  <p>
    <label for="title">Title:*</label>
    <input type="text" name="note[title]" id="title" value="<%= @note.title %>" required>
  </p>
  <p>
    <label for="note[rating]">Rating:</label>
    <select name="note[rating]">
      <option value="5" <%='selected' if @note.rating == 5 %>>Perfect</option>
      <option value="4" <%='selected' if @note.rating == 4 %>>Pretty Good</option>
      <option value="3" <%='selected' if @note.rating == 3 %>>Okay</option>
      <option value="2" <%='selected' if @note.rating == 2 %>>Meh</option>
      <option value="1" <%='selected' if @note.rating == 1 %>>Nope</option>
    </select>
  </p>
  <p>
    <label for="content">Thoughts:*</label>
    <textarea rows="10" cols="50" name="note[content]" id="content" required><%= Sanitize.fragment(@note.content) %></textarea>
  </p>

  <input type="submit" name="Update Note">
</form>